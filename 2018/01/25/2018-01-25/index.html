<!doctype html>



  


<html class="theme-next muse use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.0" />






<meta name="description" content="2 Note When I opened github/trending page at 8:00 p.m., I got “Trending repositories results are currently being dissected**, which I had never seen before. Kind of surpriseing. And just after eating">
<meta name="keywords">
<meta property="og:type" content="article">
<meta property="og:title" content="2018-01-25">
<meta property="og:url" content="http://yoursite.com/2018/01/25/2018-01-25/index.html">
<meta property="og:site_name" content="悟">
<meta property="og:description" content="2 Note When I opened github/trending page at 8:00 p.m., I got “Trending repositories results are currently being dissected**, which I had never seen before. Kind of surpriseing. And just after eating">
<meta property="og:updated_time" content="2018-01-25T14:32:23.159Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="2018-01-25">
<meta name="twitter:description" content="2 Note When I opened github/trending page at 8:00 p.m., I got “Trending repositories results are currently being dissected**, which I had never seen before. Kind of surpriseing. And just after eating">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":0,"b2t":false,"scrollpercent":false},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/2018/01/25/2018-01-25/"/>





  <title> 2018-01-25 | 悟 </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  














  
  
    
  

  <div class="container sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">悟</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">本来无一物</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/01/25/2018-01-25/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="ginhton">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="悟">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                2018-01-25
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-01-25T00:00:00+08:00">
                2018-01-25
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        <h2 id="2-Note"><a href="#2-Note" class="headerlink" title="2 Note"></a>2 Note</h2><ul>
<li>When I opened github/trending page at 8:00 p.m., I got “Trending repositories results are currently being dissected**, which I had never seen before. Kind of surpriseing.</li>
<li>And just after eating my breakfast, I sat down wondering what to do next. You know, yesterday I start my day from 2-hour game. But today I just want make a change. So I open my editor try to make a plan or just write something down.</li>
<li>Sometimes, just write something makes me feel good. I can feel that words come from my heart. Though they are always nonsense.</li>
<li>According to Prof. Wang\’s relation, the cureness of life is book.</li>
<li>I seek for help to regain my energy and desire to live and study. Well, I won\’t choose to die, so what I mean is just live better and study more effectively. </li>
<li>I also want to find some thing that can give me lifelong enjoyment especially when I am alone.</li>
<li>I have those desire, and start to read some blogs or books. I hope I can get inspiration from them.</li>
<li>React compenent life circle status: Mounting - Updating - Unmouting</li>
<li>life circle methods: componentWillMount, componentDidMount,<br>componentWillReceiveProps, shouldComponentUpdate, componentWillUpdate,<br>componentDidUpdate, componentWillUnmount.</li>
<li>Electron icon: macOS uses icns. Windows(NSIS) uses icon. Linux, if not set, use icns to generate its icons. First move icons to proper directory, and modify package.json to specify path to icon in <strong>build</strong> section.</li>
<li>git tag -a tag-info -m comment specify-commit-hash</li>
<li>机器学习是一个源于数据的模型训练过程，最终归纳出一个面向一种性能度量的决策. 训练一个模型代表训练实例，模型表示通过经验学习获得的状态，“归纳出一个决策”代表给予输入做出决策的能力，并且需要一个用于未来决策的、不可见的预期输入。最后，“面向一种性能度量”是之准备好的模型的针对性需要和定向特性。</li>
<li>机器学习是一门专门研究计算机怎样模拟或实现人类的学习行为，以获取新的知识或技能，重新组织已有的知识结构使之不断改善自身性能的学科</li>
<li>I need to copy some article to keep me focus on reading.</li>
</ul>
<h2 id="2-copy"><a href="#2-copy" class="headerlink" title="2 copy"></a>2 copy</h2><ul>
<li>kNN概述(<a href="http://ml.apachecn.org/mlia/knn/" target="_blank" rel="external">http://ml.apachecn.org/mlia/knn/</a>)<ul>
<li>k-近邻（kNN, k-NearestNeighbor) 算法是一种基本分类与回归方法，我们这里之讨论分类问题中的k-近邻算法。</li>
<li>k近邻算法的输入为实例的特征向量，对应于特征空间的点；输出为实例的类别，可以取多类。k近邻算法假设给定一个训练数据集，其中的实例类别已定。分类时，对新的实例，根据其k个最近邻的训练实例的类别，通过多数表决的方式进行预测。因此，k近邻算法不具有显式的学习过程。</li>
<li>k近邻算法实际上利用训练数据集对特征向量空间进行划分，并作为其分类的“模型”。k值的选择、距离度量以及分类决策规则是k近邻算法的三个基本要素。</li>
</ul>
</li>
<li>KNN场景<ul>
<li>电影可以按照题材分类，那么如何区分动作片和爱情片呢？</li>
<li>1.动作片：打斗次数更多 2.爱情片：亲吻次数更多</li>
<li>基于电影中的亲吻、打斗出现的次数，使用k-近邻算法构造程序，就可以自动划分电影的题材类型。</li>
</ul>
</li>
<li>KNN原理<ol>
<li>假设有一个带有标签的样本数据集（训练样本集）， 其中包含每条数据与所属分类的对应关系。</li>
<li>输入没有标签的新书局后，将新数据的每个特征与样本集中数据对应的特征进行比较。<br>a. 计算新书局与样本数据集中每条数据的距离。<br>b. 对求得的所有距离进行排序（从小到大，越小表示越相似）。<br>c. 取前k(k 一般小于等于20) 个样本数据对应的分类标签。</li>
<li>求k个数据中出现次数最多的分类标签作为新数据的分类。</li>
</ol>
</li>
<li>KNN 通俗理解<ul>
<li>给定一个训练数据集，对新的数据实例，在训练数据集中找到与该实例最邻近的k个实例，这k个实例的多数属于某个类，就把该输入实例分为这个类。</li>
</ul>
</li>
<li>KNN 开发流程<ul>
<li>收集数据：任何方法</li>
<li>准备数据：距离计算所需要的树枝，最好是结构化的数据格式</li>
<li>分析数据：任何方法</li>
<li>训练算法：此步骤不适用于k-近邻算法</li>
<li>测试算法：计算错误率</li>
<li>使用算法：输入样本数据和结构化的输出结果，然后运行k-近邻算法判断输入数据分类属于哪个分类，最后对计算出的分类执行后续处理</li>
</ul>
</li>
<li><p>KNN算法特点</p>
<ul>
<li>优点： 精度高、对异常值不敏感、无数据输入假定</li>
<li>缺点： 计算复杂度高、空间复杂度高</li>
<li>适用数据范围： 数值型和标称型</li>
</ul>
</li>
<li><p>KNN项目案例 - 1 - 优化约会网站的配对效果</p>
<ul>
<li>项目概述： 海伦使用约会网站寻找约会对象。经过一段时间之后，她发现曾交往过三种类型的人：不喜欢的人、魅力一般的人、极具魅力的人。她希望：1.工作日与魅力一般的人约会 2.周末与极具魅力的人约会 3.不喜欢的人直接排除掉。现在她收集到了一些约会网站未曾记录的数据信息，这有助于匹配对象的归类。</li>
<li>开发流程<ul>
<li>收集数据： 提供文本文件</li>
<li>准备数据： 使用 Python 解析文本文件</li>
<li>分析数据： 使用 Matplotlib 画二维散点图</li>
<li>训练算法： 此步骤不适用于 k-近邻算法</li>
<li>测试算法： 使用海伦提供的部分数据作为测试样本。测试样本和非测试样本的区别在于：测试样本是已经完成分类的数据，如果预测分类与实际类别不同，则标记为一个错误。</li>
<li>使用算法： 产生简单的命令行程序，然后海伦可以输入一些特征数据以判断对方是否是自己喜欢的类型。</li>
</ul>
</li>
<li><p>收集数据：提供文本文件</p>
<ul>
<li>海伦把这些约会对象的数据存放在文本文件datingTestSet2.txt中，总共有1000行。海伦约会的对象主要包含以下三种特征：<ul>
<li>每年获得的飞行常客里程数</li>
<li>玩视频游戏所耗的时间百分比</li>
<li>每周消费的冰淇淋公升数</li>
</ul>
</li>
<li><p>文本文件数据格式如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">40920 8.326976 0.953952 3</div><div class="line">14488 7.153469 1.673904 2</div><div class="line">26052 1.441871 0.805124 1</div><div class="line">75136 13.147394 0.428964 1</div><div class="line">38344 1.669788 0.134296 1</div></pre></td></tr></table></figure>
</li>
<li><p>准备数据： 使用 Python 解析文本文件</p>
<ul>
<li>将文本记录转化为 Numpy 的解析程序<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">file2matrix</span><span class="params">(filename)</span>:</span></div><div class="line">  <span class="string">"""</span></div><div class="line">  Desc:</div><div class="line">    导入训练数据</div><div class="line">  parameters:</div><div class="line">    filename: 数据文件路径</div><div class="line">  return:</div><div class="line">    数据矩阵 returnMat 和对应的类别 classLabelVector</div><div class="line">  """</div><div class="line">  fr = open(filename)</div><div class="line">  <span class="comment"># 获得文件中的数据行的行数</span></div><div class="line">  numberOfLines = len(fr.readlines())</div><div class="line">  <span class="comment"># 生成对应的空矩阵</span></div><div class="line">  <span class="comment"># 例如：zeros(2,3)就是生成一个 2*3 的矩阵， 各个位置上全是 0</span></div><div class="line">  returnMat = zeros((numberOfLInes, <span class="number">3</span>)) <span class="comment"># prepare martix to return</span></div><div class="line">  classLabelVector = [] <span class="comment"># prepare labels return</span></div><div class="line">  fr = open(filename)</div><div class="line">  index = <span class="number">0</span></div><div class="line">  <span class="keyword">for</span> line <span class="keyword">in</span> fr.readlines():</div><div class="line">    <span class="comment"># str.strip([chars]) -- 返回移除字符串头尾制定的字符生成的新字符串</span></div><div class="line">    line = line.strip()</div><div class="line">    <span class="comment"># 以 '\t' 切割字符串</span></div><div class="line">    listFromLine = line.split(<span class="string">'\t'</span>)</div><div class="line">    <span class="comment"># 每列的属性数据</span></div><div class="line">    returnMat[index, :] = listFromLine[<span class="number">0</span>:<span class="number">3</span>]</div><div class="line">    <span class="comment"># 每列的类别数据，就是 label 标签数据</span></div><div class="line">    classLabelVector.append(int(listFromLine[<span class="number">-1</span>]))</div><div class="line">    index += <span class="number">1</span></div><div class="line">  <span class="comment"># 返回数据矩阵 returnMat 和对应的类别classLabelVector</span></div></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>分析数据： 使用 Matplotlib 画二维散点图</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> matplotlib</div><div class="line"><span class="keyword">import</span> maplitlib.pyplot <span class="keyword">as</span> plt</div><div class="line">fig = plt.figure()</div><div class="line">ax = fig.add_subplot(<span class="number">111</span>)</div><div class="line">ax.scatter(datingDataMat[:, <span class="number">1</span>], datingDataMat[:, <span class="number">2</span>], <span class="number">15.0</span>*array(datingLabels), <span class="number">15.0</span>*array(datingLabels))</div><div class="line">plt.show()</div></pre></td></tr></table></figure>
<ul>
<li>归一化数据 （归一化是一个让权重变为统一的过程，更多细节请参考：<a href="https://www.zhihu.com/question/19951858" target="_blank" rel="external">https://www.zhihu.com/question/19951858</a>)</li>
<li>归一化特征值，消除特征之间量级不同导致的影响</li>
<li>归一化定义：我是这样认为的，归一化就是要把你需要处理的数据经过处理后（通过某种算法）限制在你需要的一定范围内。首先归一化是为了后面数据处理的方便，其次是保证程序运行时收敛加快。方法有如下：线性函数转换，表达式如下: y = (x-MinValue)/(MaxValue-MinValue)</li>
<li>说明： x y 分别为转换前、后的值，MaxValue、MinValue分别为样本的最大值和最小值。</li>
<li>对数函数转换，表达式如下： y = log10(x)</li>
<li>说明： 以10为底的对数函数转换</li>
<li>反余切函数转换，表达式如下： y = atan(x)*2/PI </li>
<li>式（1) 将输入值换算为[-1,1]区间的值，在输出层用式（2)换算为初始值，其中和分别表示训练样本集中负荷的最大值和最小值。</li>
<li>在统计学中，归一化的具体作用是归纳统一样本的统计分布性。归一化在0-1之间是统计的概率分布，归一化是在-1–+1之间是统计的坐标分布。</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">autoNorm</span><span class="params">(dataSet)</span>:</span></div><div class="line">  <span class="string">"""</span></div><div class="line">  Desc:</div><div class="line">    归一化特征值，消除特征之间量级不同导致的影响</div><div class="line">  parameter:</div><div class="line">    dataSet: 数据集</div><div class="line">  return:</div><div class="line">    归一化后的数据集 normDataSet. ranges 和 minVals 即最小值与范围，并没有用到"</div><div class="line"></div><div class="line">  归一化公式：</div><div class="line">    Y = (X-Xmin)/(xMax-xMin)</div><div class="line">    其中的 min 和 max 分别是数据集中的最小特征值和最大特征值。 该函数可以自动将数字特征值转化为0-1的区间</div><div class="line">  """ </div><div class="line">  <span class="comment"># 计算每种属性的最大值、最小值、范围</span></div><div class="line">  minVals = dataSet.min(<span class="number">0</span>)</div><div class="line">  maxVals = dataSet.max(<span class="number">0</span>)</div><div class="line">  <span class="comment"># 极差</span></div><div class="line">  ranges = maxVals - minVals</div><div class="line">  normDataSet = zeros(shape(dataSet))</div><div class="line">  m = dataSet.shape[<span class="number">0</span>]</div><div class="line">  <span class="comment"># 生成与最小值之差组成的矩阵</span></div><div class="line">  normDataSet = dataSet - tile(minVals, (m, <span class="number">1</span>))</div><div class="line">  <span class="comment"># 将最小值之差初一范围组成矩阵</span></div><div class="line">  normDataSet = normDataSet / tile(ranges, (m, <span class="number">1</span>)) <span class="comment"># element wise divide</span></div><div class="line">  <span class="keyword">return</span> normDataSet, ranges, minVals</div></pre></td></tr></table></figure>
<pre><code>- 训练算法： 此步骤不适用于 k-近邻算法
  - 因为测试数据每一次都要与全量的训练数据进行比较，所以这个过程是没有必要的。
- 测试算法： 使用海伦提供的部分数据作为测试样本。 如果预测分类与实际类别不同，则标记为一个错误。
  - kNN 分类器针对约会网站的测试代码
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">datingClassTest</span><span class="params">()</span>:</span></div><div class="line">  <span class="string">"""</span></div><div class="line">  Desc:</div><div class="line">    对约会网站的测试方法</div><div class="line">  parameters:</div><div class="line">    none</div><div class="line">  return:</div><div class="line">    错误数</div><div class="line">  # 设置测试数据的一个比例 （训练数据集比例=1-hoRatio)</div><div class="line">  hoRatoi = 0.1 # 测试范围，一部分测试一部分作为样本</div><div class="line">  # 从文件中加载数据</div><div class="line">  datingDataMat, datingLabels = file2Matrix('input/2.KNN/datingTestSet2.txt')</div><div class="line">  # 归一化数据</div><div class="line">  normMat, ranges, minVals = autoNorm(datingDataMat)</div><div class="line">  # m 表示数据的行数，即矩阵的第一维</div><div class="line">  m = normMat.shape[0]</div><div class="line">  # 设置测试的样本数量, numTestVecs:m 表示训练样本的数量</div><div class="line">  numTestVecs = int(m * hoRatio)</div><div class="line">  print 'numTestVecs =', numTestVecs</div><div class="line">  errorCount = 0.0</div><div class="line">  for i in range(numTestVecs):</div><div class="line">    # 对数据测试</div><div class="line">    classifierResult = classify0(normMat[i, :], normMat[numTestVecs:m, :], datingLabels[numTestVecs:m], 3)</div><div class="line">    print "the classifier came back with: %d, the real answer is: %d" % (classifierResult, datingLabels[i])</div><div class="line">    if (classifierResult != datingLabels[i]): errorCount += 1.0</div><div class="line">  print "the total error rate is: %f" % (errorCount / float(numTestVecs))</div><div class="line">  print errorCount</div></pre></td></tr></table></figure>
<pre><code>- 使用算法：产生简单的命令行程序，然后海伦可以输入一些特征数据以判断对方是否为自己喜欢的类型。
- 约会网站预测函数
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">clasdifyPerson</span><span class="params">()</span>:</span></div><div class="line">  resultList = [<span class="string">'not at all'</span>, <span class="string">'in small doses'</span>, <span class="string">'in large doses'</span>]</div><div class="line">  percentTats = float(raw_input(<span class="string">"percentage of time spent play video games?"</span>))</div><div class="line">  ffMiles = float(raw_input(<span class="string">"frequent filer miles earned per year?"</span>))</div><div class="line">  iceCream = float(raw_input(<span class="string">"liters of ice cream consumed per year?"</span>))</div><div class="line">  datingDataMat, datingLabels = file2matrix(<span class="string">'datingTestSet2.txt'</span>)</div><div class="line">  normMat, ranges, minVals = autoNorm(datingDataMat)</div><div class="line">  inArr = array([ffMils, percentTats, iceCream])</div><div class="line">  classifierResult = classify0((inArr-minVals)/ranges, normMat, datingLabels, <span class="number">3</span>)</div><div class="line">  <span class="keyword">print</span> <span class="string">"You will probably like this person: "</span>, resultList[classifierResult - <span class="number">1</span>]</div></pre></td></tr></table></figure>
<ul>
<li>项目案例 - 2 - 手写数字识别系统</li>
<li>项目概述： 构造一个能识别数字0-9的基于KNN分类器的手写数字识别系统。需要识别的数字是存储在文本文件中的具有相同的色彩和大小：宽高是32像素*32像素的黑白图像。</li>
<li><p>开发流程</p>
<ul>
<li>收集数据： 提供文本文件。</li>
<li>准备数据： 编写函数 img2vector(), 将图像格式转换为分类器使用的向量格式</li>
<li>分析数据： 在 Python 命令提示符中检查数据，确保它符合要求。</li>
<li>训练算法： 此步骤不适用于KNN</li>
<li>测试算法： 编写函数使用提供的部分数据集作为测试样本，测试样本与非测试样本的区别在于测试样本是已经完成分类的数据，如果预测分与实际类别不同，则标记为一个错误。</li>
<li>使用算法： 本例没有完成此步骤，若你感兴趣可以构建完成的应用程序，从图像中提取数字，并完成数字识别，美国的邮件分拣系统就是一个实际运行的类似系统.</li>
<li>收集数据： 提供文本文件：目录trainingDigits 中包含了大约2000个例子，每个例子内容如下图所示，每个数字大约有200个样本；目录testDigits 中包含了大约900个测试数据。</li>
<li><p>准备数据： 编写函数 img2vector(), 将图像文本数据转换为分类器使用的向量。</p>
<ul>
<li>将图像文本数据转换为向量<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">img2vector</span><span class="params">(filename)</span>:</span></div><div class="line">  returnVect = zeros((<span class="number">1</span>, <span class="number">1024</span>))</div><div class="line">  fr = open(filename)</div><div class="line">  <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">32</span>):</div><div class="line">    lineStr = fr.readLine()</div><div class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> range(<span class="number">32</span>):</div><div class="line">      returnVect[<span class="number">0</span>,<span class="number">32</span>*i+j] = int(lineStr[j])</div><div class="line">  <span class="keyword">return</span> returnVect</div></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>分析数据： 在 Python 命令提示符中检查数据，确保它符合要求</p>
<ul>
<li>在 Python 命令行中输入下列命令测试img2vector 函数。</li>
</ul>
</li>
<li>训练算法： 此步骤不适用于KNN<ul>
<li>因为测试数据每一次都要与全量的训练数据进行比较，所以这个过程是没有必要的。</li>
</ul>
</li>
<li><p>测试算法: 编写函数使用提供的部分数据集作为测试样本. 如果预测分类与实际类别不同，则标记为一个错误。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">handwritingClassTest</span><span class="params">()</span>:</span></div><div class="line"><span class="comment"># 1. 导入训练数据</span></div><div class="line">hwLabels = []</div><div class="line">trainingFileList = listdir(<span class="string">'input/2.KNN/trainingdigits'</span>) <span class="comment"># load the training set</span></div><div class="line">m = len(trainingFileList)</div><div class="line">trainingMat = zeros((m, <span class="number">1024</span>))</div><div class="line"><span class="comment"># hwLabels 存储0~9对应的index位置， trainingMat存放的每个位置对应的图片向量。</span></div><div class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(m):</div><div class="line">  fileNameStr = trainingFileList[i]</div><div class="line">  fileStr = fileNameStr.split(<span class="string">'.'</span>)[<span class="number">0</span>] <span class="comment"># take off .txt</span></div><div class="line">  classNumStr = int(fileStr.split(<span class="string">'_'</span>)[<span class="number">0</span>])</div><div class="line">  hwLabels.append(classNumStr)</div><div class="line">  <span class="comment"># 将 32*32 的矩阵-&gt; 1*1024 的矩阵</span></div><div class="line">  trainingMat[i, :] = img2vector(<span class="string">'input/2.KNN/trainingDigits/%s'</span> % fileNameStr)</div><div class="line"><span class="comment"># 2. 导入测试数据</span></div><div class="line">testFileList = listdir(<span class="string">'iput/2.KNN/testDigits'</span>) <span class="comment"># iterate through the test set</span></div><div class="line">errorCount = <span class="number">0.0</span></div><div class="line">mTest = len(testFileList)</div><div class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(mTest):</div><div class="line">  fileNameStr = testFileList[i]</div><div class="line">  fileStr = fileNameStr.split(<span class="string">'.'</span>)[<span class="number">0</span>] <span class="comment"># take off .txt</span></div><div class="line">  classNumStr = int(fileStr.split(<span class="string">'_'</span>)[<span class="number">0</span>])</div><div class="line">  vectorUnderTest = img2vector(<span class="string">'input/2.KNN/testDigits/%s'</span>, % fileNameStr)</div><div class="line">  classifierResult = classify0(vectorUnderTest, trainingMat, hwLabels, <span class="number">3</span>)</div><div class="line">  <span class="keyword">print</span> <span class="string">"the classifier came back with: %d, the real answer is: %d"</span> % (classifireResult, classNumStr)</div><div class="line">  <span class="keyword">if</span> (classifierResult != classNumStr): errorCount += <span class="number">1.0</span></div><div class="line"><span class="keyword">print</span> <span class="string">"\nthe total number of errors is: %d"</span> % errorCount</div><div class="line"><span class="keyword">print</span> <span class="string">"\nthe total error rate is: %f"</span> % (errorCount / float（mTest))</div></pre></td></tr></table></figure>
</li>
<li><p>使用算法</p>
</li>
</ul>
</li>
<li><p>KNN 小结</p>
<ul>
<li>经过上面的介绍我们可以知道，k近邻算法有三个基本的要素：<ul>
<li>k 值的选择<ul>
<li>k 值的选择会对k近邻算法的结果产生重大影响。</li>
<li>如果选择较小的k值，就相当于用较小的邻域中的训练实例进行预测，”学习”的近似误差会减小，只有与输入实例较近的（相似的）训练实例才会对预测结果起作用。但缺点是“学习”的估计误差会增大，预测结果会对近邻的实例点非常敏感。如果邻近的实例点恰巧是噪声，预测就会出错。换句话说，k值的减小就意味着整体模型变得复杂，容易发生过拟合。</li>
<li>如果选择过大的k之，就相当于用较大的邻域中的训练实例进行预测。i其优点是可以减少学习的估计误差。但缺点是学习的近似误差会增大。这时与输入实例较远的（不相似的）训练实例也会对预测起作用，使预测发生错误。k值增大就意味着整体的模型变得简单。</li>
<li>近似误差和估计误差，请看这里：<a href="https://www.zhihu.com/question/60793482" target="_blank" rel="external">https://www.zhihu.com/question/60793482</a></li>
</ul>
</li>
<li>距离度量<ul>
<li>特征空间中两个实例点的距离是两个实例点相似程度的反映。</li>
<li>k 近邻模型的特征空间一般是n维实数向量空间R^n. 使用的距离是欧式距离，但也可以是其他距离，如更一般的L_p距离，或者Minkowski距离。</li>
</ul>
</li>
<li>分类决策规则<ul>
<li>k 近邻算法中的分类决策规则往往是多数表决，即由输入实例的k个近邻的训练实例中的多数类决定输入实例的类。</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="2-Say"><a href="#2-Say" class="headerlink" title="2 Say"></a>2 Say</h2><ul>
<li>Lonely is not being alone, it’s the feeling that no one cares.</li>
<li>If you want to go fast, go alone.</li>
<li>If you want to go far, go together.</li>
<li>It is painful to wait something to happend. If have enough courage, I just leave.</li>
<li>I need more time to read code. good night.</li>
</ul>

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <footer class="post-footer">
      

      
        
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2018/01/26/2018-01-26/" rel="next" title="2018-01-26">
                <i class="fa fa-chevron-left"></i> 2018-01-26
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2018/01/24/2018-01-24/" rel="prev" title="2018-01-24">
                2018-01-24 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.gif"
               alt="ginhton" />
          <p class="site-author-name" itemprop="name">ginhton</p>
           
              <p class="site-description motion-element" itemprop="description"></p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">117</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">5</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#2-Note"><span class="nav-number">1.</span> <span class="nav-text">2 Note</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-copy"><span class="nav-number">2.</span> <span class="nav-text">2 copy</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-Say"><span class="nav-number">3.</span> <span class="nav-text">2 Say</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">ginhton</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Muse
  </a>
</div>


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  








  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.0"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.0"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script>



  


  




	





  





  





  






  





  

  

  

  

  

</body>
</html>
